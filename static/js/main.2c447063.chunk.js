(this["webpackJsonpreact-camera-pro-example"]=this["webpackJsonpreact-camera-pro-example"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(4),o=n.n(i),c=(n(10),n(1)),s=n(2),l=(n(11),function(e){return a.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},e.children)}),u=a.a.forwardRef((function(e,t){var n=e.children,r=e.aspectRatio;return a.a.createElement("div",{ref:t,style:"cover"===r?{position:"absolute",bottom:0,top:0,left:0,right:0}:{position:"relative",paddingBottom:100/+r+"%"}},n)})),d=function(e){return a.a.createElement("div",{style:{padding:"40px"}},e.children)},v=a.a.forwardRef((function(e,t){var n=e.children,r=e.mirrored;return a.a.createElement("video",{ref:t,style:{width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:"rotateY( ("+(r?"180deg":"0deg")+"))"}},n)})),m=a.a.forwardRef((function(e,t){return a.a.createElement("canvas",{ref:t,style:{display:"none"}},e.children)})),f=a.a.forwardRef((function(e,t){var n=e.facingMode,i=void 0===n?"user":n,o=e.aspectRatio,c=void 0===o?"cover":o,s=e.numberOfCamerasCallback,f=void 0===s?function(e){return e}:s,b=e.errorMessages,g=void 0===b?{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."}:b,p=Object(r.useRef)(null),w=Object(r.useRef)(null),E=Object(r.useRef)(null),O=Object(r.useState)(0),j=O[0],C=O[1],y=Object(r.useState)(null),k=y[0],R=y[1],M=Object(r.useState)(i),N=M[0],P=M[1],D=Object(r.useState)(!1),I=D[0],U=D[1],S=Object(r.useState)(!1),x=S[0],A=S[1];return Object(r.useEffect)((function(){f(j)}),[j]),Object(r.useImperativeHandle)(t,(function(){return{takePhoto:function(){var e,t,n,r;if(j<1)throw new Error(g.noCameraAccessible);if(null===w||void 0===w?void 0:w.current){var a=(null===(e=null===p||void 0===p?void 0:p.current)||void 0===e?void 0:e.videoWidth)||1280,i=(null===(t=null===p||void 0===p?void 0:p.current)||void 0===t?void 0:t.videoHeight)||720,o=a/i,c=((null===(n=null===E||void 0===E?void 0:E.current)||void 0===n?void 0:n.offsetWidth)||1280)/((null===(r=null===E||void 0===E?void 0:E.current)||void 0===r?void 0:r.offsetHeight)||1280),s=void 0,l=void 0,u=void 0,d=void 0;o>c?(d=i,s=(a-(u=i*c))/2,l=0):(u=a,s=0,l=(i-(d=a/c))/2),w.current.width=u,w.current.height=d;var v=w.current.getContext("2d");return v&&(null===p||void 0===p?void 0:p.current)&&v.drawImage(p.current,s,l,u,d,0,0,u,d),w.current.toDataURL("image/jpeg")}throw new Error(g.canvas)},switchCamera:function(){if(j<1)throw new Error(g.noCameraAccessible);j<2&&console.error("Error: Unable to switch camera. Only one device is accessible.");var e="user"===N?"environment":"user";return P(e),e},getNumberOfCameras:function(){return j}}})),Object(r.useEffect)((function(){h(k,R,N,C,U,A)}),[N]),Object(r.useEffect)((function(){return k&&p&&p.current&&(p.current.srcObject=k),function(){k&&k.getTracks().forEach((function(e){e.stop()}))}}),[k]),a.a.createElement(u,{ref:E,aspectRatio:c},a.a.createElement(l,null,I?a.a.createElement(d,null,g.noCameraAccessible):null,x?a.a.createElement(d,null,g.permissionDenied):null,a.a.createElement(v,{ref:p,id:"video",muted:!0,autoPlay:!0,playsInline:!0,mirrored:"user"===N}),a.a.createElement(m,{ref:w})))}));f.displayName="Camera";var h=function(e,t,n,r,a,i){var o;e&&e.getTracks().forEach((function(e){e.stop()}));var c={audio:!1,video:{facingMode:n,width:{ideal:1920},height:{ideal:1920}}};if(null===(o=null===navigator||void 0===navigator?void 0:navigator.mediaDevices)||void 0===o?void 0:o.getUserMedia)navigator.mediaDevices.getUserMedia(c).then((function(e){t(b(e,r))})).catch((function(e){g(e,a,i)}));else{var s=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;s?s(c,(function(e){t(b(e,r))}),(function(e){g(e,a,i)})):a(!0)}},b=function(e,t){return navigator.mediaDevices.enumerateDevices().then((function(e){return t(e.filter((function(e){return"videoinput"===e.kind})).length)})),e},g=function(e,t,n){console.error(e),"PermissionDeniedError"===e.name?n(!0):t(!0)},p=function(e){var t=e.children;return a.a.createElement("div",{className:"rcp-wrapper"},t)},w=function(e){var t=e.children;return a.a.createElement("div",{className:"rcp-control"},t)},E=function(e){var t=e.children,n=Object(s.a)(e,["children"]);return a.a.createElement("button",Object.assign({className:"rcp-take-photo-button"},n),t)},O=function(e){var t=e.children,n=e.disabled,r=Object(s.a)(e,["children","disabled"]);return a.a.createElement("button",Object.assign({},n,{className:"rcp-change-facing-camera-button"},r),t)},j=function(e){var t=e.children,n=e.image;return a.a.createElement("div",{className:"rcp-image-preview",style:{backgroundImage:n?"'url(".concat(n,")"):"none"}},t)},C=function(e){var t=e.children,n=e.image;return console.log(n),a.a.createElement("div",{className:"rcp-full-screen-preview",style:{backgroundImage:n?"'url(".concat(n,")"):"none"}},t)},y=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(null),s=Object(c.a)(o,2),l=s[0],u=s[1],d=Object(r.useState)(!1),v=Object(c.a)(d,2),m=v[0],h=v[1],b=Object(r.useRef)(null);return a.a.createElement(p,null,m?a.a.createElement(C,{image:l,onClick:function(){h(!m)}}):a.a.createElement(f,{ref:b,aspectRatio:"cover",numberOfCamerasCallback:i,errorMessages:{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."}}),a.a.createElement(w,null,a.a.createElement(j,{image:l,onClick:function(){h(!m)}}),a.a.createElement(E,{onClick:function(){if(b.current){var e=b.current.takePhoto();console.log(e),u(e)}}}),a.a.createElement(O,{disabled:n<=1,onClick:function(){if(b.current){var e=b.current.switchCamera();console.log(e)}}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[5,1,2]]]);
//# sourceMappingURL=main.2c447063.chunk.js.map